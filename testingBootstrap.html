<html>
<head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.js"></script>
    <script type="text/javascript">
        var date;
        var start = 22;
        var end = 9;

        function select() {
            $('#addMeeting').hide();
            $('#selectDateTime').show();
        }
        function goBack() {
            $('#addMeeting').show();
            $('#selectDateTime').hide();
            $('#dateTime').val(date + " " + start + ":00-" + end + ":00");

        }
        function checked(target) {
            if ($(target).html() == '<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>') $(target).html('');
            else $(target).html('<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>');
            date = $(target).attr('date');
            if ($(target).attr('startTime') < start) start = $(target).attr('startTime');
            if ($(target).attr('endTime') > end) end = $(target).attr('endTime');
            console.log($(target).attr('date'));
            console.log($(target).attr('startTime'));
            console.log($(target).attr('endTime'));
            console.log(start);
            console.log(end);
        }

        function selectSlot(target) {
            target = $(target);
            target.toggleClass("checked");
        }

        function populateTimetable(table, dates, dateLabels, times, timeLabels,
                                   slotAvailableCallback,
                                   slotCheckedCallback) {
            var t = $(table);
            t.empty();

            var thead = $("<tr><th>Time\\Date</th></tr>");
            for (var i = 0; i < dates.length; i++)
                thead.append($("<th></th>").text(dateLabels[i]));
            t.append($("<thead></thead>").append(thead));

            var tbody = $("<tbody></tbody>");
            for (var i = 0; i < times.length; i++) {
                var tr = $("<tr></tr>");
                tr.append($("<th scope=\"row\"></th>").text(timeLabels[i]));
                for (var j = 0; j < dates.length; j++) {
                    var td = $("<td></td>").attr("date", dates[i]).attr("time", times[j]);
                    if (slotAvailableCallback(dates[i], times[j])) {
                        td.addClass("success");
                        td.attr("onclick", "selectSlot(this)");
                    }
                    if (slotCheckedCallback(dates[i], times[j])) {
                        td.addClass("checked");
                    }
                    tr.append(td);
                }
                tbody.append(tr);
            }
            t.append(tbody);
        }

        $(function () {
            populateTimetable($("#bookingTable table"),
                    [1, 2, 3],
                    ["1d", "2d", "3d"],
                    [0, 1, 2, 3, 4, 5],
                    [0, 1, 2, 3, 4, 5],
                    function () {
                        return Math.random() > .5;
                    }, function () {
                        return Math.random() > .5;
                    }
            );
        })
    </script>

    <style type="text/css">
        .form-horizontal .control-label {
            /* text-align:right; */
            text-align : left;
        }

        #bookingTable td {
            text-align : center;
        }

        #bookingTable td.success {
            cursor : pointer;
        }

        #bookingTable td.checked:after {
            position                : relative;
            top                     : 1px;
            display                 : inline-block;
            font-family             : 'Glyphicons Halflings';
            font-style              : normal;
            font-weight             : normal;
            line-height             : 1;
            -webkit-font-smoothing  : antialiased;
            -moz-osx-font-smoothing : grayscale;
            content                 : "\e013";
        }

    </style>
</head>
<body>
    <nav></nav>
    <div class="container">
        <div class="row">
            <div id="inquiry" class="col-sm-6 col-xs-12">
                <div class="form-horizontal">
                    <div class="form-group">
                        <label for="type" class="col-xs-2 control-label text-left">Activity:</label>

                        <div class="col-xs-9">
                            <select class="form-control" id="type">
                                <option>Badminton</option>
                                <option>Fitness training</option>
                                <option>Activities Room</option>
                                <option>Indoor Basketball</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="dateFrom" class="col-xs-2 control-label">Date:</label>

                        <div class="col-xs-4">
                            <select class="form-control col-xs-1" id="dateFrom">
                                <option>2015-03-25</option>
                                <option>2015-03-26</option>
                                <option>2015-03-27</option>
                                <option>2015-03-28</option>
                            </select>
                        </div>
                        <label for="dateTo" class="col-xs-1 control-label">to</label>

                        <div class="col-xs-4">
                            <select class="form-control col-xs-1" id="dateTo">
                                <option>2015-03-25</option>
                                <option>2015-03-26</option>
                                <option>2015-03-27</option>
                                <option>2015-03-28</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="timeFrom" class="col-xs-2 control-label">Time:</label>

                        <div class="col-xs-4">
                            <select class="form-control col-xs-1" id="timeFrom">
                                <option>8:30</option>
                                <option>9:30</option>
                                <option>10:30</option>
                                <option>11:30</option>
                                <option>12:30</option>
                                <option>13:30</option>
                                <option>14:30</option>
                                <option>15:30</option>
                                <option>16:30</option>
                                <option>17:30</option>
                                <option>18:30</option>
                                <option>19:30</option>
                                <option>20:30</option>
                                <option>21:30</option>
                            </select>
                        </div>
                        <label for="timeTo" class="col-xs-1 control-label">to</label>

                        <div class="col-xs-4">
                            <select class="form-control col-xs-1" id="timeTo">
                                <option>9:30</option>
                                <option>10:30</option>
                                <option>11:30</option>
                                <option>12:30</option>
                                <option>13:30</option>
                                <option>14:30</option>
                                <option>15:30</option>
                                <option>16:30</option>
                                <option>17:30</option>
                                <option>18:30</option>
                                <option>19:30</option>
                                <option>20:30</option>
                                <option>21:30</option>
                                <option>22:30</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="centre" class="col-xs-2 control-label">Centre:</label>

                        <div class="col-xs-9">
                            <select class="form-control col-xs-1" id="centre">
                                <option>All</option>
                                <option>Shaw</option>
                                <option>Core W</option>
                                <option>Student Hall</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div id="bookingTable" class="col-sm-6 col-xs-12 table-responsive">
                <table class="table table-condensed table-bordered">
                    <thead>
                    <tr>
                        <th>Time</th>
                        <th>22</th>
                        <th>23</th>
                        <th>24</th>
                        <th>25</th>
                        <th>26</th>
                        <th>27</th>
                        <th>28</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">9</th>
                        <td class="success" date="22/3" startTime="9" endTime="10" onclick=checked(this)></td>
                        <td class="success" date="23/3" startTime="9" endTime="10" onclick=checked(this)></td>
                        <td date="24/3" startTime="9" endTime="10"></td>
                        <td date="25/3" startTime="9" endTime="10"></td>
                        <td date="26/3" startTime="9" endTime="10"></td>
                        <td date="27/3" startTime="9" endTime="10"></td>
                        <td date="28/3" startTime="9" endTime="10"></td>
                    </tr>
                    <tr>
                        <th scope="row">10</th>
                        <td date="22/3" startTime="10" endTime="11"></td>
                        <td date="23/3" startTime="10" endTime="11"></td>
                        <td date="24/3" startTime="10" endTime="11" class="success" onclick=checked(this)></td>
                        <td date="25/3" startTime="10" endTime="11" class="success" onclick=checked(this)></td>
                        <td date="26/3" startTime="10" endTime="11"></td>
                        <td date="27/3" startTime="10" endTime="11"></td>
                        <td date="28/3" startTime="10" endTime="11"></td>
                    </tr>
                    <tr>
                        <th scope="row">11</th>
                        <td date="22/3" startTime="11" endTime="12"></td>
                        <td date="23/3" startTime="11" endTime="12"></td>
                        <td class="success" onclick=checked(this) date="24/3" startTime="11" endTime="12"></td>
                        <td class="success" onclick=checked(this) date="25/3" startTime="11" endTime="12"></td>
                        <td date="26/3" startTime="11" endTime="12"></td>
                        <td date="27/3" startTime="11" endTime="12"></td>
                        <td date="28/3" startTime="11" endTime="12"></td>
                    </tr>
                    <tr>
                        <th scope="row">12</th>
                        <td date="22/3" startTime="12" endTime="13"></td>
                        <td date="23/3" startTime="12" endTime="13"></td>
                        <td date="24/3" startTime="12" endTime="13" class="success" onclick=checked(this)></td>
                        <td date="25/3" startTime="12" endTime="13" class="success" onclick=checked(this)></td>
                        <td date="26/3" startTime="12" endTime="13"></td>
                        <td date="27/3" startTime="12" endTime="13"></td>
                        <td date="28/3" startTime="12" endTime="13" class="success" onclick=checked(this)></td>
                    </tr>
                    <tr>
                        <th scope="row">13</th>
                        <td date="22/3" startTime="13" endTime="14"></td>
                        <td date="23/3" startTime="13" endTime="14"></td>
                        <td date="24/3" startTime="13" endTime="14" class="success" onclick=checked(this)></td>
                        <td date="25/3" startTime="13" endTime="14" class="success" onclick=checked(this)></td>
                        <td date="26/3" startTime="13" endTime="14"></td>
                        <td date="27/3" startTime="13" endTime="14"></td>
                        <td date="28/3" startTime="13" endTime="14" class="success" onclick=checked(this)></td>
                    </tr>

                    </tbody>
                </table>
                <div>&nbsp;</div>

                <button type="button" class="btn btn-primary btn-lg" onclick=goBack()>clear</button>
                <button type="button" class="btn btn-primary btn-lg" onclick=goBack() style="float:right;">Book</button>
            </div>
        </div>
</body>
</html>